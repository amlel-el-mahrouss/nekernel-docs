\doxysection{KString.\+h}
\hypertarget{_k_string_8h_source}{}\label{_k_string_8h_source}\index{dev/kernel/NewKit/KString.h@{dev/kernel/NewKit/KString.h}}
\mbox{\hyperlink{_k_string_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00002\ \textcolor{comment}{}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ \ \ \ Copyright\ (C)\ 2024-\/2025,\ Amlal\ EL\ Mahrouss,\ all\ rights\ reserved.}}
\DoxyCodeLine{00004\ \textcolor{comment}{}}
\DoxyCodeLine{00005\ \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_compiler_kit_8h}{CompilerKit/CompilerKit.h}}>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{kernel_2_new_kit_2_defines_8h}{NewKit/Defines.h}}>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_error_or_8h}{NewKit/ErrorOr.h}}>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_new_kit_2_utils_8h}{NewKit/Utils.h}}>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_kernel_panic_8h}{NewKit/KernelPanic.h}}>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#define\ cMinimumStringSize\ 8196}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_ne_o_s}{NeOS}}}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00020\ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_ne_o_s_1_1_k_string}{KString}}\ final}
\DoxyCodeLine{00021\ \ \ \ \ \{}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a09eb0aaa31db16a580ea2c0466fa9ed3}{KString}}()}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a333eec4211b458efe426fbad5d85066b}{fDataSz}}\ =\ \mbox{\hyperlink{_k_string_8h_a77677743dec6a21d1d21f849118564cc}{cMinimumStringSize}};}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}[\mbox{\hyperlink{class_ne_o_s_1_1_k_string_a333eec4211b458efe426fbad5d85066b}{fDataSz}}];}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_kernel_panic_8h_a21aee4c355d56e3630f2f341f59b9406}{MUST\_PASS}}(\mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}});}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a100d79bdf4a376d1e9802b03ef62be48}{rt\_set\_memory}}(\mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}},\ 0,\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a333eec4211b458efe426fbad5d85066b}{fDataSz}});}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_aa82e8cf86dd1fb8ebf6e99dc2707ab4c}{KString}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_a5bbd9eec89d9fb8e95178b14ce2fcafc}{SizeT}}\&\ Sz)}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a333eec4211b458efe426fbad5d85066b}{fDataSz}}(Sz)}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_kernel_panic_8h_a21aee4c355d56e3630f2f341f59b9406}{MUST\_PASS}}(Sz\ >\ 1);}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}}\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}[Sz];}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_kernel_panic_8h_a21aee4c355d56e3630f2f341f59b9406}{MUST\_PASS}}(\mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}});}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a100d79bdf4a376d1e9802b03ef62be48}{rt\_set\_memory}}(\mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}},\ 0,\ Sz);}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a26a2af011940dd9366e739432feceb49}{\string~KString}}()}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}})}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}[]\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}};}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}}\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_ad4b25bc6fdf249a7e9ede12763eefc84}{NE\_COPY\_DEFAULT}}(\mbox{\hyperlink{class_ne_o_s_1_1_k_string}{KString}});}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a8520fb09b88f97fdb4d1ec14469f7fd2}{Data}}();}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a1071637858efed023346083310553fe4}{CData}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a83fc5fb64d170235fdc4061a31f2f766}{Size}}\ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a8bf796e8dbdd6f14261b7e887053ccff}{Length}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_ab109267909b44ed3e02ecf3ab4191731}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ rhs)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_aca333dc44993b09d39a70ba3eac05a8d}{operator!=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ rhs)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_ab109267909b44ed3e02ecf3ab4191731}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string}{KString}}\&\ rhs)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_aca333dc44993b09d39a70ba3eac05a8d}{operator!=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string}{KString}}\&\ rhs)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string}{KString}}\&\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a3b7c1e73d461ea350259feb8bcbf293a}{operator+=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ rhs);}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string}{KString}}\&\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a3b7c1e73d461ea350259feb8bcbf293a}{operator+=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string}{KString}}\&\ rhs);}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keyword}{operator}\ bool()}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}};}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_ac4c6a70be11f57dcef01011cd295635c}{operator!}}()}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}};}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_af9b61690c1ef6b445865c6d9a3cddbbb}{fData}}\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a83fc5fb64d170235fdc4061a31f2f766}{Size}}\ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a333eec4211b458efe426fbad5d85066b}{fDataSz}}\{0\};}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a83fc5fb64d170235fdc4061a31f2f766}{Size}}\ \ \mbox{\hyperlink{class_ne_o_s_1_1_k_string_a0c01a61124aad42fe2a6ba5c092f9bb6}{fCur}}\{0\};}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{struct_ne_o_s_1_1_k_string_builder}{KStringBuilder}};}
\DoxyCodeLine{00084\ \ \ \ \ \};}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_ne_o_s_1_1_k_string_builder}{KStringBuilder}}\ final}
\DoxyCodeLine{00087\ \ \ \ \ \{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{class_ne_o_s_1_1_error_or}{ErrorOr<KString>}}\ \mbox{\hyperlink{struct_ne_o_s_1_1_k_string_builder_a54a43750f0f60770c779dbc9dcc0a84f}{Construct}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ data);}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ \ \ \ \ \ \mbox{\hyperlink{struct_ne_o_s_1_1_k_string_builder_a8e5de215096dc21e81c3940f20e98bef}{FromBool}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ fmt,\ \textcolor{keywordtype}{bool}\ n);}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ \ \ \ \ \ \mbox{\hyperlink{struct_ne_o_s_1_1_k_string_builder_a75e41d44fd82ae42220a62c8b8bff8e4}{Format}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ fmt,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ from);}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_ne_o_s_1_1_k_string_builder_ab1fb2480d47b8c6f4c9c62cb65c4af6c}{Equals}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ lhs,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ rhs);}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct_ne_o_s_1_1_k_string_builder_ab1fb2480d47b8c6f4c9c62cb65c4af6c}{Equals}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_a47c41d4526d5406d0f76828b483217e2}{WideChar}}*\ lhs,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_a47c41d4526d5406d0f76828b483217e2}{WideChar}}*\ rhs);}
\DoxyCodeLine{00093\ \ \ \ \ \};}
\DoxyCodeLine{00094\ \}\ \textcolor{comment}{//\ namespace\ NeOS}}

\end{DoxyCode}
