\doxysection{IPEFDylib\+Object.\+h}
\hypertarget{_i_p_e_f_dylib_object_8h_source}{}\label{_i_p_e_f_dylib_object_8h_source}\index{dev/kernel/KernelKit/IPEFDylibObject.h@{dev/kernel/KernelKit/IPEFDylibObject.h}}
\mbox{\hyperlink{_i_p_e_f_dylib_object_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ \ \ \ \ \ ========================================================}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ \ \ \ \ \ Kernel}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ \ \ \ \ \ Copyright\ (C)\ 2024-\/2025,\ Amlal\ EL\ Mahrouss,\ all\ rights\ reserved.}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ *\ \ \ \ \ \ ========================================================}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ \_\_KERNELKIT\_SHARED\_OBJECT\_H\_\_}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ \_\_KERNELKIT\_SHARED\_OBJECT\_H\_\_}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_p_e_f_8h}{KernelKit/PEF.h}}>}}
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{kernel_2_new_kit_2_defines_8h}{NewKit/Defines.h}}>}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_p_e_f_code_mgr_8h}{KernelKit/PEFCodeMgr.h}}>}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_user_process_scheduler_8h}{KernelKit/UserProcessScheduler.h}}>}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_i_dylib_object_8h}{KernelKit/IDylibObject.h}}>}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_ne_o_s}{NeOS}}}
\DoxyCodeLine{00020\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{class\ }IPEFDylibObject\ final\ \mbox{\hyperlink{class_ne_o_s_1_1_n_e___d_y_l_i_b___o_b_j_e_c_t}{NE\_DYLIB\_OBJECT}}}
\DoxyCodeLine{00026\ \ \ \ \ \{}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_ne_o_s_1_1_n_e___d_y_l_i_b___o_b_j_e_c_t_a5c1c902b167aef274417248b3344c57d}{IPEFDylibObject}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_n_e___d_y_l_i_b___o_b_j_e_c_t_a2de411180c164604f5165b39c7b8898b}{\string~IPEFDylibObject}}()\ \ \ \ \ \ \ \ \ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_n_e___d_y_l_i_b___o_b_j_e_c_t_a4e95ab692ec362b749490607131f7479}{NE\_COPY\_DEFAULT}}(IPEFDylibObject);}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ DLL\_TRAITS*\ fMounted\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ DLL\_TRAITS**\ \mbox{\hyperlink{class_ne_o_s_1_1_n_e___d_y_l_i_b___o_b_j_e_c_t_ad1459ca557bb7da9de0b2dc8a3dd78a8}{GetAddressOf}}()}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \&fMounted;}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ DLL\_TRAITS*\ \mbox{\hyperlink{class_ne_o_s_1_1_n_e___d_y_l_i_b___o_b_j_e_c_t_aa18576428666604d325b9700d88c49f2}{Get}}()}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ fMounted;}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_ne_o_s_1_1_n_e___d_y_l_i_b___o_b_j_e_c_t_a03f107a7cbc31428e5e971a6ec28c913}{Mount}}(DLL\_TRAITS*\ to\_mount)}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!to\_mount\ ||\ !to\_mount-\/>ImageObject)}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ fMounted\ =\ to\_mount;}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fLoader\ \&\&\ to\_mount)}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{delete}\ fLoader;}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fLoader\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!fLoader)}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fLoader\ =\ \textcolor{keyword}{new}\ \mbox{\hyperlink{class_ne_o_s_1_1_p_e_f_loader}{PEFLoader}}(fMounted-\/>ImageObject);}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_ne_o_s_1_1_n_e___d_y_l_i_b___o_b_j_e_c_t_a2ecdbca54199cd5f79db9d6e87bd696e}{Unmount}}()}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (fMounted)}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ fMounted\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ SymbolType>}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ SymbolType\ \mbox{\hyperlink{class_ne_o_s_1_1_n_e___d_y_l_i_b___o_b_j_e_c_t_a5de72801d67a3ba064edb421971770ae}{Load}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ symbol\_name,\ \mbox{\hyperlink{namespace_ne_o_s_a5bbd9eec89d9fb8e95178b14ce2fcafc}{SizeT}}\ len,\ \mbox{\hyperlink{namespace_ne_o_s_a91a19724952b6c6faf9b52f9efc935f7}{Int32}}\ kind)}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (symbol\_name\ ==\ \textcolor{keyword}{nullptr}\ ||\ *symbol\_name\ ==\ 0)}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (len\ >\ \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_a348e01990cb6bce27f125183c9722b91}{kPathLen}}\ ||\ len\ <\ 1)}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ ret\ =}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{reinterpret\_cast<}SymbolType\textcolor{keyword}{>}(fLoader-\/>FindSymbol(symbol\_name,\ kind));}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!ret)}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (kind\ ==\ \mbox{\hyperlink{namespace_ne_o_s_a695354c34a79bc19d87bd6d6ddf6dc2ea232b46ab43e20f62b0730bde27d1fcd9}{kPefCode}})}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{namespace_ne_o_s_ac1c63bbbae84b587c92428c1f2025036}{VoidPtr}})\&\mbox{\hyperlink{namespace_ne_o_s_aee26379783b55e8fe5d40e0f8a6cbd3f}{\_\_zka\_pure\_call}};}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret;}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_ne_o_s_1_1_p_e_f_loader}{PEFLoader}}*\ fLoader\{\textcolor{keyword}{nullptr}\};}
\DoxyCodeLine{00098\ \ \ \ \ \};}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keyword}{typedef}\ IPEFDylibObject*\ \mbox{\hyperlink{namespace_ne_o_s_aa8c8353efab82cab4d244834345daed5}{IDylibRef}};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00102\ \ \ \ \ \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\_C}}\ \mbox{\hyperlink{namespace_ne_o_s_aa8c8353efab82cab4d244834345daed5}{IDylibRef}}\ \mbox{\hyperlink{namespace_ne_o_s_a82eb226d44d60b4d14795be579f02364}{rtl\_init\_dylib}}(\mbox{\hyperlink{class_ne_o_s_1_1_user_process}{UserProcess}}\&\ header);}
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\_C}}\ \mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Void}}\ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a76053be76b1e3d587fff0dfd3a32e7bc}{rtl\_fini\_dylib}}(\mbox{\hyperlink{class_ne_o_s_1_1_user_process}{UserProcess}}\&\ header,\ \mbox{\hyperlink{namespace_ne_o_s_aa8c8353efab82cab4d244834345daed5}{IDylibRef}}\ lib,\ \mbox{\hyperlink{namespace_ne_o_s_ad5f3c5e87966b36f6741ac5897f80120}{Bool}}*\ successful);}
\DoxyCodeLine{00104\ \}\ \textcolor{comment}{//\ namespace\ NeOS}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ ifndef\ \_\_KERNELKIT\_SHARED\_OBJECT\_H\_\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
