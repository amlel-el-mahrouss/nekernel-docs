\doxysection{ATA.\+h}
\hypertarget{boot_2_boot_kit_2_h_w_2_a_t_a_8h_source}{}\label{boot_2_boot_kit_2_h_w_2_a_t_a_8h_source}\index{dev/boot/BootKit/HW/ATA.h@{dev/boot/BootKit/HW/ATA.h}}
\mbox{\hyperlink{boot_2_boot_kit_2_h_w_2_a_t_a_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00002\ \textcolor{comment}{}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ \ \ \ Copyright\ (C)\ 2024-\/2025,\ Amlal\ EL\ Mahrouss,\ all\ rights\ reserved.}}
\DoxyCodeLine{00004\ \textcolor{comment}{}}
\DoxyCodeLine{00005\ \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/\ */}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{modules_2_a_t_a_2_a_t_a_8h}{modules/ATA/ATA.h}}>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{boot_2_boot_kit_2_device_8h}{BootKit/Device.h}}>}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{using\ namespace\ }\mbox{\hyperlink{namespace_ne_o_s}{NeOS}};}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_boot_device_a_t_a}{BootDeviceATA}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{class_device}{Device}}}
\DoxyCodeLine{00015\ \{}
\DoxyCodeLine{00016\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00017\ \ \ \ \ \textcolor{keyword}{enum}}
\DoxyCodeLine{00018\ \ \ \ \ \{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_boot_device_a_t_a_aa33275bf513ee5b09a069f2f1e09d2e1a65faad0dceac1929808c75fae7804307}{kPrimary}}\ \ \ =\ \mbox{\hyperlink{modules_2_a_t_a_2_a_t_a_8h_a512c9169204a33016e7a8860f0c3c325}{ATA\_PRIMARY\_IO}},}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_boot_device_a_t_a_aa33275bf513ee5b09a069f2f1e09d2e1ae8f131d650035a4e21aac66f036146e4}{kSecondary}}\ =\ \mbox{\hyperlink{modules_2_a_t_a_2_a_t_a_8h_a6b5aead46251798b2f18e24745ee7d94}{ATA\_SECONDARY\_IO}},}
\DoxyCodeLine{00021\ \ \ \ \ \};}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_boot_device_a_t_a_aa6e3f9517d7e825623a763b2959dc7f8}{BootDeviceATA}}()\ noexcept;}
\DoxyCodeLine{00024\ \ \ \ \ \string~\mbox{\hyperlink{class_boot_device_a_t_a}{BootDeviceATA}}()\ =\ default;}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \ \ \ \ \mbox{\hyperlink{_detail_8h_a5a448e2cf2aed07b6a8216f4007ade6b}{NE\_COPY\_DELETE}}(\mbox{\hyperlink{class_boot_device_a_t_a}{BootDeviceATA}});}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \ \ \ \ enum}
\DoxyCodeLine{00029\ \ \ \ \ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_boot_device_a_t_a_ac9dc7493df8c0a3dde440352b1544a04ac35f2df46ff3b01974db847fd6aa9c85}{kSectorSize}}\ =\ \mbox{\hyperlink{modules_2_a_t_a_2_a_t_a_8h_aed29fb475f84d8a5fdebd6c83e932024}{kATASectorSize}}}
\DoxyCodeLine{00031\ \ \ \ \ \};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_boot_device_a_t_a_1_1_a_t_a_trait}{ATATrait}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{struct_device_1_1_trait}{Device::Trait}}}
\DoxyCodeLine{00034\ \ \ \ \ \{}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a4885ae005fc56130691bdea86d9a88d7}{UInt16}}\ \ \ \ \mbox{\hyperlink{struct_boot_device_a_t_a_1_1_a_t_a_trait_a4acd2fe2276811513e573c699cb1c817}{mBus}}\{\mbox{\hyperlink{class_boot_device_a_t_a_aa33275bf513ee5b09a069f2f1e09d2e1a65faad0dceac1929808c75fae7804307}{kPrimary}}\};}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a0835cc5d92716e99fd7387e297984399}{UInt8}}\ \ \mbox{\hyperlink{struct_boot_device_a_t_a_1_1_a_t_a_trait_aaa369d9f47ca626fe02b87faf52abfed}{mMaster}}\{0\};}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a3245bb65efabbdafe2c6b73041d782e0}{Boolean}}\ \mbox{\hyperlink{struct_boot_device_a_t_a_1_1_a_t_a_trait_ab2c243eb0946591be6da89a9add784d7}{mErr}}\{\textcolor{keyword}{false}\};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \textcolor{keyword}{operator}\ bool()}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !\mbox{\hyperlink{struct_boot_device_a_t_a_1_1_a_t_a_trait_ab2c243eb0946591be6da89a9add784d7}{mErr}};}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00043\ \ \ \ \ \};}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{operator}\ bool();}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a5bbd9eec89d9fb8e95178b14ce2fcafc}{SizeT}}\ \mbox{\hyperlink{class_boot_device_a_t_a_ac77c6be7f4796b238798bb96235d58c0}{GetSectorsCount}}()\ noexcept;}
\DoxyCodeLine{00049\ \ \ \ \ \mbox{\hyperlink{namespace_ne_o_s_a5bbd9eec89d9fb8e95178b14ce2fcafc}{SizeT}}\ \mbox{\hyperlink{class_boot_device_a_t_a_a17e801352d694865cd2d0d90b8a7dfda}{GetDiskSize}}()\ noexcept;}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \ \ \ \ \mbox{\hyperlink{class_boot_device_a_t_a}{BootDeviceATA}}\&\ \mbox{\hyperlink{class_boot_device_a_t_a_abb90173e83a69b9a5c28b881b65e1a20}{Read}}(\mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ Buf,\ const\ \mbox{\hyperlink{namespace_ne_o_s_a5bbd9eec89d9fb8e95178b14ce2fcafc}{SizeT}}\&\ SecCount)\ override;}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{class_boot_device_a_t_a}{BootDeviceATA}}\&\ \mbox{\hyperlink{modules_2_a_h_c_i_2_a_h_c_i_8h_a7a9e0d1c2c1ac92baa698f393e953c87}{Write}}(\mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}}*\ Buf,\ const\ \mbox{\hyperlink{namespace_ne_o_s_a5bbd9eec89d9fb8e95178b14ce2fcafc}{SizeT}}\&\ SecCount)\ override;}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ ATATrait\&\ \mbox{\hyperlink{class_boot_device_a_t_a_a89755d1fc9adcb051b7ce1d397515306}{Leak}}()\ override;}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ private:}
\DoxyCodeLine{00057\ \ \ \ \ \mbox{\hyperlink{struct_boot_device_a_t_a_1_1_a_t_a_trait}{ATATrait}}\ \mbox{\hyperlink{class_boot_device_a_t_a_afe7c0c6b8f7c7f89e150bf7451aceddd}{mTrait}};}
\DoxyCodeLine{00058\ \};}

\end{DoxyCode}
