\doxysection{dev/kernel/\+HALKit/\+AMD64/\+Hal\+Core\+Interrupt\+Handler\+AMD64.cc File Reference}
\hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc}{}\label{_hal_core_interrupt_handler_a_m_d64_8cc}\index{dev/kernel/HALKit/AMD64/HalCoreInterruptHandlerAMD64.cc@{dev/kernel/HALKit/AMD64/HalCoreInterruptHandlerAMD64.cc}}
{\ttfamily \#include $<$Arch\+Kit/\+Arch\+Kit.\+h$>$}\newline
{\ttfamily \#include $<$Kernel\+Kit/\+User\+Process\+Scheduler.\+h$>$}\newline
{\ttfamily \#include $<$New\+Kit/\+KString.\+h$>$}\newline
{\ttfamily \#include $<$Signal\+Kit/\+Signals.\+h$>$}\newline
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespace_ne_o_s}{Ne\+OS}}
\begin{DoxyCompactList}\small\item\em The {\bfseries{Kernel}} namespace. \end{DoxyCompactList}\item 
namespace \mbox{\hyperlink{namespace_ne_o_s_1_1_detail}{Ne\+OS\+::\+Detail}}
\begin{DoxyCompactList}\small\item\em Implementation details namespace. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_a1b8e90a29a2e5096294d72c3f2af26cb}{idt\+\_\+handle\+\_\+gpf}} (\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rsp)
\begin{DoxyCompactList}\small\item\em Handle GPF fault. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_a411fe250e336915566e38d5a88873958}{idt\+\_\+handle\+\_\+pf}} (\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rsp)
\begin{DoxyCompactList}\small\item\em Handle page fault. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_ae6c4488cc126bb0cca01655d7e216f4c}{idt\+\_\+handle\+\_\+scheduler}} (\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rsp)
\begin{DoxyCompactList}\small\item\em Handle scheduler interrupt. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_ab2df61c859d3e3a1ba959badd9bd2937}{idt\+\_\+handle\+\_\+math}} (\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rsp)
\begin{DoxyCompactList}\small\item\em Handle math fault. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_a762e1f64506224bd2f817cda4943d34f}{idt\+\_\+handle\+\_\+generic}} (\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rsp)
\begin{DoxyCompactList}\small\item\em Handle any generic fault. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} \mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Ne\+OS\+::\+Void}} \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_a03be4a5e6c22bec1907145524e743201}{idt\+\_\+handle\+\_\+breakpoint}} (\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rip)
\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_a621f1dc48d72a0817eb12a9ffc607e2f}{idt\+\_\+handle\+\_\+ud}} (\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rsp)
\begin{DoxyCompactList}\small\item\em Handle \#\+UD fault. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} \mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Ne\+OS\+::\+Void}} \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_a2ad63f3f299c57eb83b2cfa52ce881c3}{hal\+\_\+system\+\_\+call\+\_\+enter}} (\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rcx\+\_\+syscall\+\_\+index, \mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rdx\+\_\+syscall\+\_\+struct)
\begin{DoxyCompactList}\small\item\em Enter syscall from assembly. \end{DoxyCompactList}\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} \mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Ne\+OS\+::\+Void}} \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_a8dcbb5478186ce9e00198a3bf311a55c}{hal\+\_\+kernel\+\_\+call\+\_\+enter}} (\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rcx\+\_\+kerncall\+\_\+index, \mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}} rdx\+\_\+kerncall\+\_\+struct)
\begin{DoxyCompactList}\small\item\em Enter Kernel call from assembly (DDK only). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_a10b2d890d871e1489bb02b7e70d9bdfb}{STATIC}} \mbox{\hyperlink{ddk_8h_ae4cc35dcc70810fa972cc8a5185a28fa}{BOOL}} \mbox{\hyperlink{_hal_core_interrupt_handler_a_m_d64_8cc_a183e193880d8c0156e2e5611ae1b6024}{k\+Is\+Scheduling}} = \mbox{\hyperlink{ddk_8h_a996bde01ecac342918f0a2c4e7ce7bd5}{NO}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_a8dcbb5478186ce9e00198a3bf311a55c}\label{_hal_core_interrupt_handler_a_m_d64_8cc_a8dcbb5478186ce9e00198a3bf311a55c} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!hal\_kernel\_call\_enter@{hal\_kernel\_call\_enter}}
\index{hal\_kernel\_call\_enter@{hal\_kernel\_call\_enter}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{hal\_kernel\_call\_enter()}{hal\_kernel\_call\_enter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} \mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Ne\+OS\+::\+Void}} hal\+\_\+kernel\+\_\+call\+\_\+enter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rcx\+\_\+kerncall\+\_\+index,  }\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rdx\+\_\+kerncall\+\_\+struct }\end{DoxyParamCaption})}



Enter Kernel call from assembly (DDK only). 


\begin{DoxyParams}{Parameters}
{\em stack} & the stack pushed from assembly routine. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
nothing. 
\end{DoxyReturn}
\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_a2ad63f3f299c57eb83b2cfa52ce881c3}\label{_hal_core_interrupt_handler_a_m_d64_8cc_a2ad63f3f299c57eb83b2cfa52ce881c3} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!hal\_system\_call\_enter@{hal\_system\_call\_enter}}
\index{hal\_system\_call\_enter@{hal\_system\_call\_enter}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{hal\_system\_call\_enter()}{hal\_system\_call\_enter()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} \mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Ne\+OS\+::\+Void}} hal\+\_\+system\+\_\+call\+\_\+enter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rcx\+\_\+syscall\+\_\+index,  }\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rdx\+\_\+syscall\+\_\+struct }\end{DoxyParamCaption})}



Enter syscall from assembly. 


\begin{DoxyParams}{Parameters}
{\em stack} & the stack pushed from assembly routine. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
nothing. 
\end{DoxyReturn}
\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_a03be4a5e6c22bec1907145524e743201}\label{_hal_core_interrupt_handler_a_m_d64_8cc_a03be4a5e6c22bec1907145524e743201} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!idt\_handle\_breakpoint@{idt\_handle\_breakpoint}}
\index{idt\_handle\_breakpoint@{idt\_handle\_breakpoint}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{idt\_handle\_breakpoint()}{idt\_handle\_breakpoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} \mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Ne\+OS\+::\+Void}} idt\+\_\+handle\+\_\+breakpoint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rip }\end{DoxyParamCaption})}

\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_a762e1f64506224bd2f817cda4943d34f}\label{_hal_core_interrupt_handler_a_m_d64_8cc_a762e1f64506224bd2f817cda4943d34f} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!idt\_handle\_generic@{idt\_handle\_generic}}
\index{idt\_handle\_generic@{idt\_handle\_generic}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{idt\_handle\_generic()}{idt\_handle\_generic()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void idt\+\_\+handle\+\_\+generic (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rsp }\end{DoxyParamCaption})}



Handle any generic fault. 


\begin{DoxyParams}{Parameters}
{\em rsp} & \\
\hline
\end{DoxyParams}
\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_a1b8e90a29a2e5096294d72c3f2af26cb}\label{_hal_core_interrupt_handler_a_m_d64_8cc_a1b8e90a29a2e5096294d72c3f2af26cb} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!idt\_handle\_gpf@{idt\_handle\_gpf}}
\index{idt\_handle\_gpf@{idt\_handle\_gpf}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{idt\_handle\_gpf()}{idt\_handle\_gpf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void idt\+\_\+handle\+\_\+gpf (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rsp }\end{DoxyParamCaption})}



Handle GPF fault. 


\begin{DoxyParams}{Parameters}
{\em rsp} & \\
\hline
\end{DoxyParams}
\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_ab2df61c859d3e3a1ba959badd9bd2937}\label{_hal_core_interrupt_handler_a_m_d64_8cc_ab2df61c859d3e3a1ba959badd9bd2937} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!idt\_handle\_math@{idt\_handle\_math}}
\index{idt\_handle\_math@{idt\_handle\_math}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{idt\_handle\_math()}{idt\_handle\_math()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void idt\+\_\+handle\+\_\+math (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rsp }\end{DoxyParamCaption})}



Handle math fault. 


\begin{DoxyParams}{Parameters}
{\em rsp} & \\
\hline
\end{DoxyParams}
\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_a411fe250e336915566e38d5a88873958}\label{_hal_core_interrupt_handler_a_m_d64_8cc_a411fe250e336915566e38d5a88873958} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!idt\_handle\_pf@{idt\_handle\_pf}}
\index{idt\_handle\_pf@{idt\_handle\_pf}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{idt\_handle\_pf()}{idt\_handle\_pf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void idt\+\_\+handle\+\_\+pf (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rsp }\end{DoxyParamCaption})}



Handle page fault. 


\begin{DoxyParams}{Parameters}
{\em rsp} & \\
\hline
\end{DoxyParams}
\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_ae6c4488cc126bb0cca01655d7e216f4c}\label{_hal_core_interrupt_handler_a_m_d64_8cc_ae6c4488cc126bb0cca01655d7e216f4c} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!idt\_handle\_scheduler@{idt\_handle\_scheduler}}
\index{idt\_handle\_scheduler@{idt\_handle\_scheduler}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{idt\_handle\_scheduler()}{idt\_handle\_scheduler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void idt\+\_\+handle\+\_\+scheduler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rsp }\end{DoxyParamCaption})}



Handle scheduler interrupt. 

\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_a621f1dc48d72a0817eb12a9ffc607e2f}\label{_hal_core_interrupt_handler_a_m_d64_8cc_a621f1dc48d72a0817eb12a9ffc607e2f} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!idt\_handle\_ud@{idt\_handle\_ud}}
\index{idt\_handle\_ud@{idt\_handle\_ud}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{idt\_handle\_ud()}{idt\_handle\_ud()}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_abbaccfbed35b945162c27ef6d3748e77}{EXTERN\+\_\+C}} void idt\+\_\+handle\+\_\+ud (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespace_ne_o_s_a45d30b4091e6c91b5e25bcf408ca6dbb}{Ne\+OS\+::\+UInt\+Ptr}}}]{rsp }\end{DoxyParamCaption})}



Handle \#\+UD fault. 


\begin{DoxyParams}{Parameters}
{\em rsp} & \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\Hypertarget{_hal_core_interrupt_handler_a_m_d64_8cc_a183e193880d8c0156e2e5611ae1b6024}\label{_hal_core_interrupt_handler_a_m_d64_8cc_a183e193880d8c0156e2e5611ae1b6024} 
\index{HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}!kIsScheduling@{kIsScheduling}}
\index{kIsScheduling@{kIsScheduling}!HalCoreInterruptHandlerAMD64.cc@{HalCoreInterruptHandlerAMD64.cc}}
\doxysubsubsection{\texorpdfstring{kIsScheduling}{kIsScheduling}}
{\footnotesize\ttfamily \mbox{\hyperlink{kernel_2_new_kit_2_macros_8h_a10b2d890d871e1489bb02b7e70d9bdfb}{STATIC}} \mbox{\hyperlink{ddk_8h_ae4cc35dcc70810fa972cc8a5185a28fa}{BOOL}} k\+Is\+Scheduling = \mbox{\hyperlink{ddk_8h_a996bde01ecac342918f0a2c4e7ce7bd5}{NO}}}

