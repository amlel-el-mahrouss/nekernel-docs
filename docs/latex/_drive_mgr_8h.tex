\doxysection{dev/kernel/\+Kernel\+Kit/\+Drive\+Mgr.h File Reference}
\hypertarget{_drive_mgr_8h}{}\label{_drive_mgr_8h}\index{dev/kernel/KernelKit/DriveMgr.h@{dev/kernel/KernelKit/DriveMgr.h}}
{\ttfamily \#include $<$Kernel\+Kit/\+User\+Process\+Scheduler.\+h$>$}\newline
{\ttfamily \#include $<$Compiler\+Kit/\+Compiler\+Kit.\+h$>$}\newline
{\ttfamily \#include $<$Kernel\+Kit/\+Debug\+Output.\+h$>$}\newline
{\ttfamily \#include $<$Kernel\+Kit/\+Device\+Mgr.\+h$>$}\newline
{\ttfamily \#include $<$Kernel\+Kit/\+KPC.\+h$>$}\newline
{\ttfamily \#include $<$New\+Kit/\+Defines.\+h$>$}\newline
{\ttfamily \#include $<$New\+Kit/\+KString.\+h$>$}\newline
{\ttfamily \#include $<$New\+Kit/\+Ref.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{struct_ne_o_s_1_1_drive_trait}{Ne\+OS\+::\+Drive\+Trait}}
\begin{DoxyCompactList}\small\item\em Media drive trait type. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{struct_ne_o_s_1_1_drive_trait_1_1_drive_packet}{Ne\+OS\+::\+Drive\+Trait\+::\+Drive\+Packet}}
\begin{DoxyCompactList}\small\item\em Packet drive (Storage\+Kit compilant.) \end{DoxyCompactList}\item 
class \mbox{\hyperlink{class_ne_o_s_1_1_mountpoint_interface}{Ne\+OS\+::\+Mountpoint\+Interface}}
\begin{DoxyCompactList}\small\item\em Mounted drives interface. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespace_ne_o_s}{Ne\+OS}}
\begin{DoxyCompactList}\small\item\em The {\bfseries{Kernel}} namespace. \end{DoxyCompactList}\item 
namespace \mbox{\hyperlink{namespace_ne_o_s_1_1_detect}{Ne\+OS\+::\+Detect}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_drive_mgr_8h_a49de414097cb5032d5838eb018d66e7a}{k\+Drive\+Max\+Count}}~(4U)
\item 
\#define \mbox{\hyperlink{_drive_mgr_8h_abc1ea6ef2e3119068fc3f7226dd01f8c}{k\+Drive\+Sector\+Sz}}~(512U)
\item 
\#define \mbox{\hyperlink{_drive_mgr_8h_aa01d515bb10c31c8c78a13b8550a4c67}{k\+Drive\+Invalid\+ID}}~(-\/1)
\item 
\#define \mbox{\hyperlink{_drive_mgr_8h_adb8e15f10bd1de61647614c474a0b7ca}{k\+Drive\+Name\+Len}}~(32)
\item 
\#define \mbox{\hyperlink{_drive_mgr_8h_a0f819334af550cb126a68e3f3b314803}{drv\+\_\+sector\+\_\+cnt}}(SIZE,  SECTOR\+\_\+\+SZ)~(((SIZE) + (SECTOR\+\_\+\+SZ)) / (SECTOR\+\_\+\+SZ))
\end{DoxyCompactItemize}
\doxysubsubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \mbox{\hyperlink{struct_ne_o_s_1_1_drive_trait}{Drive\+Trait}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{namespace_ne_o_s_a94ee2e4103829c0c6b9d1ad81cde94b4}{Ne\+OS\+::\+Drive\+Trait\+Ptr}}
\begin{DoxyCompactList}\small\item\em ! drive as a device. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \{ \newline
\mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a1be80d1ec4b4004eb318479f3d03147d}{Ne\+OS\+::k\+Invalid\+Drive}} = -\/1
, \mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a1681655c5d67b0a4358204c024126a20}{Ne\+OS\+::k\+Block\+Device}} = 0x\+AD
, \mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a8d4d2ecc9191be0f6ec0eb5875b7d2d1}{Ne\+OS\+::k\+Mass\+Storage\+Drive}} = 0x\+DA
, \mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25aef47408c7a0ed4e561602763d5900850}{Ne\+OS\+::k\+Floppy\+Drive}} = 0x\+CD
, \newline
\mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25ade897c20a0c5bd40cdf1ea00a90027b1}{Ne\+OS\+::k\+Optical\+Drive}} = 0x\+DC
, \mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a35f0ca87146f5f7bd1a1b88a5b8ace4a}{Ne\+OS\+::k\+Tape\+Drive}} = 0x\+D7
, \mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a97dcefaad3f24b221ed121c63fcebb5f}{Ne\+OS\+::k\+Read\+Only\+Drive}} = 0x10
, \mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a2d70d2c025857f901351073584259202}{Ne\+OS\+::k\+EPMDrive}} = 0x11
, \newline
\mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25aee064d06fa3a3afc0b662264113392af}{Ne\+OS\+::k\+EPTDrive}} = 0x12
, \mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a74f461ade2c8f2df5de121c2140e7307}{Ne\+OS\+::k\+MBRDrive}} = 0x13
, \mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a48400d40aa301862ab2816764ffde1af}{Ne\+OS\+::k\+GPTDrive}} = 0x14
, \mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a86727130e9bae92b32881f604abfc8a1}{Ne\+OS\+::k\+Unformatted\+Drive}} = 0x15
, \newline
\mbox{\hyperlink{namespace_ne_o_s_aa4b67f13c2b149cb721dd57d2deb5a25a609f23a7b84b5fda5a438a03479c212c}{Ne\+OS\+::k\+Storage\+Count}} = 9
 \}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Void}} \mbox{\hyperlink{namespace_ne_o_s_ae275e45fed9d209eac42b3158b81ab3b}{Ne\+OS\+::io\+\_\+drv\+\_\+unimplemented}} (\mbox{\hyperlink{struct_ne_o_s_1_1_drive_trait_1_1_drive_packet}{Drive\+Trait\+::\+Drive\+Packet}} \texorpdfstring{$\ast$}{*}pckt) noexcept
\begin{DoxyCompactList}\small\item\em Unimplemented drive. \end{DoxyCompactList}\item 
const \mbox{\hyperlink{namespace_ne_o_s_af96b578c23518d339d562bbab4efa72f}{Char}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{namespace_ne_o_s_a5aa57083b8ffd5e7fa36c871142dbc43}{Ne\+OS\+::io\+\_\+drv\+\_\+kind}} (\mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Void}})
\begin{DoxyCompactList}\small\item\em Gets the drive kind (ATA, SCSI, AHCI...) \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_ne_o_s_1_1_drive_trait}{Drive\+Trait}} \mbox{\hyperlink{namespace_ne_o_s_a37aa359ca7e7867d08157cd6d281bece}{Ne\+OS\+::io\+\_\+construct\+\_\+blank\+\_\+drive}} (\mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Void}}) noexcept
\begin{DoxyCompactList}\small\item\em Makes a new drive. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_ne_o_s_1_1_drive_trait}{Drive\+Trait}} \mbox{\hyperlink{namespace_ne_o_s_ad12938bdbd66aec6b487ded5033c1b29}{Ne\+OS\+::io\+\_\+construct\+\_\+main\+\_\+drive}} (\mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Void}}) noexcept
\begin{DoxyCompactList}\small\item\em Fetches the main drive. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_ne_o_s_ad33956dfc567efebd063d7bc6d1ae82d}{Void}} \mbox{\hyperlink{namespace_ne_o_s_1_1_detect_ae00ec96b40b2c7a96c80def33f14c44b}{Ne\+OS\+::\+Detect\+::io\+\_\+detect\+\_\+drive}} (\mbox{\hyperlink{struct_ne_o_s_1_1_drive_trait}{Drive\+Trait}} \&trait)
\item 
\mbox{\hyperlink{namespace_ne_o_s_a91a19724952b6c6faf9b52f9efc935f7}{Int32}} \mbox{\hyperlink{namespace_ne_o_s_a11d179ba82cbedd0dd9e919465a3c87c}{Ne\+OS\+::fs\+\_\+ifs\+\_\+read}} (\mbox{\hyperlink{class_ne_o_s_1_1_mountpoint_interface}{Mountpoint\+Interface}} \texorpdfstring{$\ast$}{*}Mnt, \mbox{\hyperlink{struct_ne_o_s_1_1_drive_trait}{Drive\+Trait}} \&Drv\+Trait, \mbox{\hyperlink{namespace_ne_o_s_a91a19724952b6c6faf9b52f9efc935f7}{Int32}} Drv\+Index)
\begin{DoxyCompactList}\small\item\em Read from newfs disk. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespace_ne_o_s_a91a19724952b6c6faf9b52f9efc935f7}{Int32}} \mbox{\hyperlink{namespace_ne_o_s_a00229e25fc8111d2a479d81616d730c9}{Ne\+OS\+::fs\+\_\+ifs\+\_\+write}} (\mbox{\hyperlink{class_ne_o_s_1_1_mountpoint_interface}{Mountpoint\+Interface}} \texorpdfstring{$\ast$}{*}Mnt, \mbox{\hyperlink{struct_ne_o_s_1_1_drive_trait}{Drive\+Trait}} \&Drv\+Trait, \mbox{\hyperlink{namespace_ne_o_s_a91a19724952b6c6faf9b52f9efc935f7}{Int32}} Drv\+Index)
\begin{DoxyCompactList}\small\item\em Write to ifs disk. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{_drive_mgr_8h_a0f819334af550cb126a68e3f3b314803}\label{_drive_mgr_8h_a0f819334af550cb126a68e3f3b314803} 
\index{DriveMgr.h@{DriveMgr.h}!drv\_sector\_cnt@{drv\_sector\_cnt}}
\index{drv\_sector\_cnt@{drv\_sector\_cnt}!DriveMgr.h@{DriveMgr.h}}
\doxysubsubsection{\texorpdfstring{drv\_sector\_cnt}{drv\_sector\_cnt}}
{\footnotesize\ttfamily \#define drv\+\_\+sector\+\_\+cnt(\begin{DoxyParamCaption}\item[{}]{SIZE,  }\item[{}]{SECTOR\+\_\+\+SZ }\end{DoxyParamCaption})~(((SIZE) + (SECTOR\+\_\+\+SZ)) / (SECTOR\+\_\+\+SZ))}

\Hypertarget{_drive_mgr_8h_aa01d515bb10c31c8c78a13b8550a4c67}\label{_drive_mgr_8h_aa01d515bb10c31c8c78a13b8550a4c67} 
\index{DriveMgr.h@{DriveMgr.h}!kDriveInvalidID@{kDriveInvalidID}}
\index{kDriveInvalidID@{kDriveInvalidID}!DriveMgr.h@{DriveMgr.h}}
\doxysubsubsection{\texorpdfstring{kDriveInvalidID}{kDriveInvalidID}}
{\footnotesize\ttfamily \#define k\+Drive\+Invalid\+ID~(-\/1)}

\Hypertarget{_drive_mgr_8h_a49de414097cb5032d5838eb018d66e7a}\label{_drive_mgr_8h_a49de414097cb5032d5838eb018d66e7a} 
\index{DriveMgr.h@{DriveMgr.h}!kDriveMaxCount@{kDriveMaxCount}}
\index{kDriveMaxCount@{kDriveMaxCount}!DriveMgr.h@{DriveMgr.h}}
\doxysubsubsection{\texorpdfstring{kDriveMaxCount}{kDriveMaxCount}}
{\footnotesize\ttfamily \#define k\+Drive\+Max\+Count~(4U)}

\Hypertarget{_drive_mgr_8h_adb8e15f10bd1de61647614c474a0b7ca}\label{_drive_mgr_8h_adb8e15f10bd1de61647614c474a0b7ca} 
\index{DriveMgr.h@{DriveMgr.h}!kDriveNameLen@{kDriveNameLen}}
\index{kDriveNameLen@{kDriveNameLen}!DriveMgr.h@{DriveMgr.h}}
\doxysubsubsection{\texorpdfstring{kDriveNameLen}{kDriveNameLen}}
{\footnotesize\ttfamily \#define k\+Drive\+Name\+Len~(32)}

\Hypertarget{_drive_mgr_8h_abc1ea6ef2e3119068fc3f7226dd01f8c}\label{_drive_mgr_8h_abc1ea6ef2e3119068fc3f7226dd01f8c} 
\index{DriveMgr.h@{DriveMgr.h}!kDriveSectorSz@{kDriveSectorSz}}
\index{kDriveSectorSz@{kDriveSectorSz}!DriveMgr.h@{DriveMgr.h}}
\doxysubsubsection{\texorpdfstring{kDriveSectorSz}{kDriveSectorSz}}
{\footnotesize\ttfamily \#define k\+Drive\+Sector\+Sz~(512U)}

